{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./src/components/showdoc/showdoc.vue","webpack:///src/components/showdoc/showdoc.vue","webpack:///./src/components/showdoc/showdoc.vue?0628","webpack:///./src/components/showdoc/showdoc.vue?a5e9","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/core-js/modules/es6.array.map.js","webpack:///./src/components/showdoc/showdoc.vue?b888","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js"],"names":["ctx","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","render","_vm","this","_c","_self","staticClass","user","staticStyle","attrs","id","users","image","_v","_s","name","_l","list","item1","index1","item2","index2","on","$event","doPublish","class","_e","createHome","joinHome","staticRenderFns","data","Array","fill","map","blackArr","redArr","flag","connection","host","port","endpoint","clean","connectTimeout","reconnectPeriod","clientId","subscription","topic","qos","publish","payload","msg","type","client","mounted","methods","$message","createConnection","doSubscribe","_this","$prompt","confirmButtonText","cancelButtonText","then","_ref","value","error","_this2","_this$connection","options","_objectWithoutProperties","_excluded","connectUrl","concat","mqtt","connect","console","log","message","m","JSON","parse","arr","doClick","_this$subscription","subscribe","doUnSubscribe","unsubscribe","_this3","_this$publish","stringify","$set","xWin","yWin","x_yWin","y_xWin","_this4","xAllArr","xWinArr","item","sort","a","b","i","setTimeout","alert","resetData","_this5","yAllArr","yWinArr","_this6","x_yAllArr","x_yWinArr","_this7","y_xAllArr","y_xWinArr","component","toAbsoluteIndex","aLen","arguments","end","endPos","$export","aFunction","fails","$sort","test","P","F","comparefn","call","$map","speciesConstructor","original","isObject","isArray","SPECIES","C","constructor","prototype"],"mappings":"qGAOA,IAAIA,EAAM,EAAQ,QACdC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QACnBC,EAAW,EAAQ,QACnBC,EAAM,EAAQ,QAClBC,EAAOC,QAAU,SAAUC,EAAMC,GAC/B,IAAIC,EAAiB,GAARF,EACTG,EAAoB,GAARH,EACZI,EAAkB,GAARJ,EACVK,EAAmB,GAARL,EACXM,EAAwB,GAARN,EAChBO,EAAmB,GAARP,GAAaM,EACxBE,EAASP,GAAWJ,EACxB,OAAO,SAAUY,EAAOC,EAAYC,GAQlC,IAPA,IAMIC,EAAKC,EANLC,EAAInB,EAASc,GACbM,EAAOrB,EAAQoB,GACfE,EAAIvB,EAAIiB,EAAYC,EAAM,GAC1BM,EAASrB,EAASmB,EAAKE,QACvBC,EAAQ,EACRC,EAASjB,EAASM,EAAOC,EAAOQ,GAAUd,EAAYK,EAAOC,EAAO,QAAKW,EAEvEH,EAASC,EAAOA,IAAS,IAAIX,GAAYW,KAASH,KACtDH,EAAMG,EAAKG,GACXL,EAAMG,EAAEJ,EAAKM,EAAOJ,GAChBd,GACF,GAAIE,EAAQiB,EAAOD,GAASL,OACvB,GAAIA,EAAK,OAAQb,GACpB,KAAK,EAAG,OAAO,EACf,KAAK,EAAG,OAAOY,EACf,KAAK,EAAG,OAAOM,EACf,KAAK,EAAGC,EAAOE,KAAKT,QACf,GAAIP,EAAU,OAAO,EAGhC,OAAOC,GAAiB,EAAIF,GAAWC,EAAWA,EAAWc,K,kFCzC7DG,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,WAAW,CAAGJ,EAAIK,KAA4LH,EAAG,MAAM,CAACI,YAAY,CAAC,QAAU,OAAO,SAAW,aAAa,CAACJ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWG,MAAM,CAAC,IAAqB,IAAfP,EAAIK,KAAKG,GAAWR,EAAIS,MAAM,GAAGC,MAAQV,EAAIS,MAAM,GAAGC,MAAM,IAAM,MAAMR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIW,GAAGX,EAAIY,GAAkB,IAAfZ,EAAIK,KAAKG,GAAWR,EAAIS,MAAM,GAAGI,KAAOb,EAAIS,MAAM,GAAGI,WAAWX,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQF,EAAIc,GAAId,EAAIe,MAAM,SAASC,EAAMC,GAAQ,OAAOf,EAAG,KAAKF,EAAIc,GAAIE,GAAO,SAASE,EAAMC,GAAQ,OAAOjB,EAAG,KAAK,CAACkB,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,UAAUL,EAAOE,MAAW,CAACjB,EAAG,MAAM,CAACE,YAAY,UAAUmB,MAAM,CAAC,MAAe,GAAPL,EAAS,IAAa,GAAPA,UAAgB,MAAK,KAA0B,GAApBlB,EAAIS,MAAMf,OAAaQ,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWG,MAAM,CAAC,IAAqB,IAAfP,EAAIK,KAAKG,GAAWR,EAAIS,MAAM,GAAGC,MAAQV,EAAIS,MAAM,GAAGC,MAAM,IAAM,MAAMR,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACJ,EAAIW,GAAGX,EAAIY,GAAkB,IAAfZ,EAAIK,KAAKG,GAAWR,EAAIS,MAAM,GAAGI,KAAOb,EAAIS,MAAM,GAAGI,WAAWb,EAAIwB,OAA7lCtB,EAAG,MAAM,CAACA,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,QAAQa,GAAG,CAAC,MAAQpB,EAAIyB,aAAa,CAACzB,EAAIW,GAAG,UAAUT,EAAG,YAAY,CAACK,MAAM,CAAC,KAAO,QAAQa,GAAG,CAAC,MAAQpB,EAAI0B,WAAW,CAAC1B,EAAIW,GAAG,WAAW,MAEhSgB,EAAkB,G,gGC8BtB,GACAC,KAAA,WACA,OACAnB,MAAA,GACAJ,KAAA,KAEAU,KAAAc,MAAA,IAAAC,KAAA,GAAAC,KAAA,kBAAAF,MAAA,IAAAC,KAAA,MAEAE,SAAA,GAEAC,OAAA,GAEAC,MAAA,EACAC,WAAA,CACAC,KAAA,iBACAC,KAAA,KACAC,SAAA,QACAC,OAAA,EACAC,eAAA,IACAC,gBAAA,IAEAC,SAAA,kBAEAC,aAAA,CACAC,MAAA,gBACAC,IAAA,GAEAC,QAAA,CACAF,MAAA,eACAC,IAAA,EACAE,QAAA,CACAC,IAAA,KAEAC,KAAA,OAGAC,OAAA,OAGAC,QAAA,aAGAC,QAAA,CAEA3B,WAAA,WACA,KAAA4B,SAAA,UACA,KAAAhD,KAAA,CACAG,GAAA,GACAK,KAAA,KACAH,MAAA,gGAEA,KAAAD,MAAAX,KAAA,KAAAO,MACA,KAAAiD,mBACA,KAAAC,eAGA7B,SAAA,eAAA8B,EAAA,KACA,KAAAC,QAAA,eACAC,kBAAA,KACAC,iBAAA,OACAC,MAAA,SAAAC,GAEA,IADAC,EAAAD,EAAAC,MAEA,KAAAA,GAIAN,EAAAH,SAAA,UACAG,EAAAnD,KAAA,CACAG,GAAA,GACAK,KAAA,KACAH,MAAA,+FAEA8C,EAAA/C,MAAAX,KAAA,CACAU,GAAA,GACAK,KAAA,KACAH,MAAA,iGAEA8C,EAAA/C,MAAAX,KAAA0D,EAAAnD,MACAmD,EAAArB,WAAAO,SAAA,iBACAc,EAAAb,aAAAC,MAAA,eACAY,EAAAF,mBACAE,EAAAD,cAEAC,EAAAV,QAAAC,QAAAE,KAAA,EACAO,EAAAV,QAAAC,QAAAC,IAAA,SACAQ,EAAAV,QAAAF,MAAA,gBACAY,EAAAlC,aAvBAkC,EAAAH,SAAAU,MAAA,cA2BAT,iBAAA,eAAAU,EAAA,KACAC,EAKA,KAAA9B,WAJAC,EAAA6B,EAAA7B,KACAC,EAAA4B,EAAA5B,KACAC,EAAA2B,EAAA3B,SACA4B,EAAAC,eAAAF,EAAAG,GAEAC,EAAA,QAAAC,OAAAlC,EAAA,KAAAkC,OAAAjC,GAAAiC,OAAAhC,GACA,IACA,KAAAY,OAAAqB,IAAAC,QAAAH,EAAAH,GACA,MAAAH,GACAU,QAAAC,IAAA,qBAAAX,GAEA,KAAAb,OAAA9B,GAAA,0BACA,KAAA8B,OAAA9B,GAAA,kBAAA2C,GACAU,QAAAC,IAAA,oBAAAX,MAEA,KAAAb,OAAA9B,GAAA,oBAAAwB,EAAA+B,GACA,IAAAC,EAAAC,KAAAC,MAAAH,GACA,MAAAC,EAAA3B,KACAe,EAAAvD,MAAAX,KAAA,CACAU,GAAA,GACAK,KAAA,KACAH,MAAA,gGAEAsD,EAAAX,SAAAuB,EAAA5B,SACA,CACA,IAAA+B,EAAAH,EAAA5B,IACAgB,EAAAgB,QAAAD,EAAA,GAAAA,EAAA,SAIAxB,YAAA,WACA,IAAA0B,EAGA,KAAAtC,aAFAC,EAAAqC,EAAArC,MACAC,EAAAoC,EAAApC,IAEA,KAAAK,OAAAgC,UAAAtC,EAAAC,GAAA,SAAAkB,EAAAzE,GACAyE,GACAU,QAAAC,IAAA,4BAAAX,OAMAoB,cAAA,WACA,IACAvC,EACA,KAAAD,aADAC,MAEA,KAAAM,OAAAkC,YAAAxC,GAAA,SAAAmB,GACAA,GACAU,QAAAC,IAAA,oBAAAX,OAIAzC,UAAA,SAAAL,EAAAE,GAAA,IAAAkE,EAAA,KAEA,GADAZ,QAAAC,IAAA,KAAAjE,OACA,QAAAA,MAAAf,OAAA,CAIA,GAAAuB,EAAA,CAEA,YAAAZ,KAAAG,KAAA,KAAA0B,KAGA,YADA,KAAAmB,SAAA,WAGA,YAAAhD,KAAAG,IAAA,KAAA0B,KAGA,YADA,KAAAmB,SAAA,WAGA,KAAAP,QAAAC,QAAAC,IAAA,CAAA/B,EAAAE,GACA,KAAA2B,QAAAC,QAAAE,KAAA,EAGA,KAAAH,QAAAC,QAAAC,IACA,KAAAF,QAAAC,QAAAE,KAFA,IAIAqC,EAIA,KAAAxC,QAHAF,EAAA0C,EAAA1C,MACAC,EAAAyC,EAAAzC,IACAE,EAAAuC,EAAAvC,QAEA,KAAAG,OAAAJ,QAAAF,EAAAiC,KAAAU,UAAAxC,GAAA,CACAF,QACA,SAAAkB,GACA,GAAAsB,EAAAvC,QAAAC,QAAAE,OACAc,GACAsB,EAAAL,QAAA/D,EAAAE,YAhCA,KAAAkC,SAAA,aAqCA2B,QAAA,SAAA/D,EAAAE,GAEA,KAAAe,KAEA,QAAAnB,KAAAE,GAAAE,KAEA,KAAAqE,KAAA,KAAAzE,KAAAE,GAAAE,EAAA,GACA,KAAAe,MAAA,KAAAA,KACA,KAAAF,SAAAlC,KAAA,CAAAmB,EAAAE,MAGA,KAAAqE,KAAA,KAAAzE,KAAAE,GAAAE,EAAA,GACA,KAAAe,MAAA,KAAAA,KACA,KAAAD,OAAAnC,KAAA,CAAAmB,EAAAE,KAEA,KAAAsE,KAAAxE,EAAAE,GACA,KAAAuE,KAAAzE,EAAAE,GACA,KAAAwE,OAAA1E,EAAAE,GACA,KAAAyE,OAAA3E,EAAAE,IAGAsE,KAAA,SAAAxE,EAAAE,GAAA,IAAA0E,EAAA,KACAC,EAAA,GAEAC,EAAA,GAEA,KAAA7D,KAOA,KAAAD,OAAAF,KAAA,SAAAiE,GACAA,EAAA,IAAA/E,GACA6E,EAAAhG,KAAAkG,EAAA,OARA,KAAAhE,SAAAD,KAAA,SAAAiE,GACAA,EAAA,IAAA/E,GACA6E,EAAAhG,KAAAkG,EAAA,OAWAF,EAAAG,MAAA,SAAAC,EAAAC,GAAA,OAAAD,EAAAC,KACA,QAAAC,EAAA,EAAAA,EAAAN,EAAApG,OAAA0G,IACAN,EAAAM,IAAAN,EAAAM,EAAA,KAEAL,EAAAjG,KAAAgG,EAAAM,IAGAL,EAAA,GAGA,GAAAA,EAAArG,SACA,KAAAwC,KAMAmE,YAAA,WACAC,MAAA,QACAT,EAAAU,cACA,KARAF,YAAA,WACAC,MAAA,QACAT,EAAAU,cACA,OAUAb,KAAA,SAAAzE,EAAAE,GAAA,IAAAqF,EAAA,KACAC,EAAA,GACAC,EAAA,GAEA,KAAAxE,KAOA,KAAAD,OAAAF,KAAA,SAAAiE,GACAA,EAAA,IAAA7E,GACAsF,EAAA3G,KAAAkG,EAAA,OARA,KAAAhE,SAAAD,KAAA,SAAAiE,GACAA,EAAA,IAAA7E,GACAsF,EAAA3G,KAAAkG,EAAA,OAWAS,EAAAR,MAAA,SAAAC,EAAAC,GAAA,OAAAD,EAAAC,KACA,QAAAC,EAAA,EAAAA,EAAAK,EAAA/G,OAAA0G,IACAK,EAAAL,IAAAK,EAAAL,EAAA,KAEAM,EAAA5G,KAAA2G,EAAAL,IAGAM,EAAA,GAGA,GAAAA,EAAAhH,SACA,KAAAwC,KAMAmE,YAAA,WACAC,MAAA,QACAE,EAAAD,cACA,KARAF,YAAA,WACAC,MAAA,QACAE,EAAAD,cACA,OAUAZ,OAAA,SAAA1E,EAAAE,GAAA,IAAAwF,EAAA,KACAC,EAAA,GACAC,EAAA,GAEA,KAAA3E,KAOA,KAAAD,OAAAF,KAAA,SAAAiE,GACAA,EAAA,GAAA/E,GAAA+E,EAAA,GAAA7E,GACAyF,EAAA9G,KAAAkG,EAAA,OARA,KAAAhE,SAAAD,KAAA,SAAAiE,GACAA,EAAA,GAAA/E,GAAA+E,EAAA,GAAA7E,GACAyF,EAAA9G,KAAAkG,EAAA,OAWAY,EAAAX,MAAA,SAAAC,EAAAC,GAAA,OAAAD,EAAAC,KACA,QAAAC,EAAA,EAAAA,EAAAQ,EAAAlH,OAAA0G,IACAQ,EAAAR,IAAAQ,EAAAR,EAAA,KAEAS,EAAA/G,KAAA8G,EAAAR,IAGAS,EAAA,GAGA,GAAAA,EAAAnH,SACA,KAAAwC,KAMAmE,YAAA,WACAC,MAAA,QACAK,EAAAJ,cACA,KARAF,YAAA,WACAC,MAAA,QACAK,EAAAJ,cACA,OAUAX,OAAA,SAAA3E,EAAAE,GAAA,IAAA2F,EAAA,KACAC,EAAA,GACAC,EAAA,GAEA,KAAA9E,KAOA,KAAAD,OAAAF,KAAA,SAAAiE,GACA,GAAAA,EAAA,GAAA/E,IAAA+E,EAAA,GAAA7E,GACA4F,EAAAjH,KAAAkG,EAAA,OARA,KAAAhE,SAAAD,KAAA,SAAAiE,GACA,GAAAA,EAAA,GAAA/E,IAAA+E,EAAA,GAAA7E,GACA4F,EAAAjH,KAAAkG,EAAA,OAWAe,EAAAd,MAAA,SAAAC,EAAAC,GAAA,OAAAD,EAAAC,KACA,QAAAC,EAAA,EAAAA,EAAAW,EAAArH,OAAA0G,IACAW,EAAAX,IAAAW,EAAAX,EAAA,KAEAY,EAAAlH,KAAAiH,EAAAX,IAGAY,EAAA,GAGA,GAAAA,EAAAtH,SACA,KAAAwC,KAMAmE,YAAA,WACAC,MAAA,QACAQ,EAAAP,cACA,KARAF,YAAA,WACAC,MAAA,QACAQ,EAAAP,cACA,OAUAA,UAAA,WACA,KAAAxF,KAAAc,MAAA,IAAAC,KAAA,GAAAC,KAAA,kBAAAF,MAAA,IAAAC,KAAA,MACA,KAAAG,OAAA,GACA,KAAAD,SAAA,GACA,KAAAE,MAAA,KAAAA,QChaud,I,wBCQnd+E,EAAY,eACd,EACAlH,EACA4B,GACA,EACA,KACA,WACA,MAIa,aAAAsF,E,6CCjBf,IAAI7I,EAAW,EAAQ,QACnB8I,EAAkB,EAAQ,QAC1B7I,EAAW,EAAQ,QACvBE,EAAOC,QAAU,SAAcsF,GAC7B,IAAIvE,EAAInB,EAAS6B,MACbP,EAASrB,EAASkB,EAAEG,QACpByH,EAAOC,UAAU1H,OACjBC,EAAQuH,EAAgBC,EAAO,EAAIC,UAAU,QAAKvH,EAAWH,GAC7D2H,EAAMF,EAAO,EAAIC,UAAU,QAAKvH,EAChCyH,OAAiBzH,IAARwH,EAAoB3H,EAASwH,EAAgBG,EAAK3H,GAC/D,MAAO4H,EAAS3H,EAAOJ,EAAEI,KAAWmE,EACpC,OAAOvE,I,oCCZT,IAAIgI,EAAU,EAAQ,QAClBC,EAAY,EAAQ,QACpBpJ,EAAW,EAAQ,QACnBqJ,EAAQ,EAAQ,QAChBC,EAAQ,GAAGzB,KACX0B,EAAO,CAAC,EAAG,EAAG,GAElBJ,EAAQA,EAAQK,EAAIL,EAAQM,GAAKJ,GAAM,WAErCE,EAAK1B,UAAKpG,QACL4H,GAAM,WAEXE,EAAK1B,KAAK,WAEL,EAAQ,OAAR,CAA4ByB,IAAS,QAAS,CAEnDzB,KAAM,SAAc6B,GAClB,YAAqBjI,IAAdiI,EACHJ,EAAMK,KAAK3J,EAAS6B,OACpByH,EAAMK,KAAK3J,EAAS6B,MAAOuH,EAAUM,Q,uBCnB7C,IAAIP,EAAU,EAAQ,QAEtBA,EAAQA,EAAQK,EAAG,QAAS,CAAE9F,KAAM,EAAQ,UAE5C,EAAQ,OAAR,CAAiC,S,oCCJjC,IAAIyF,EAAU,EAAQ,QAClBS,EAAO,EAAQ,OAAR,CAA4B,GAEvCT,EAAQA,EAAQK,EAAIL,EAAQM,GAAK,EAAQ,OAAR,CAA4B,GAAG9F,KAAK,GAAO,QAAS,CAEnFA,IAAK,SAAa5C,GAChB,OAAO6I,EAAK/H,KAAMd,EAAYiI,UAAU,Q,kCCP5C,W,qBCCA,IAAIa,EAAqB,EAAQ,QAEjC1J,EAAOC,QAAU,SAAU0J,EAAUxI,GACnC,OAAO,IAAKuI,EAAmBC,GAAxB,CAAmCxI,K,qBCJ5C,IAAIyI,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAU,EAAQ,OAAR,CAAkB,WAEhC9J,EAAOC,QAAU,SAAU0J,GACzB,IAAII,EASF,OAREF,EAAQF,KACVI,EAAIJ,EAASK,YAEG,mBAALD,GAAoBA,IAAMzG,QAASuG,EAAQE,EAAEE,aAAaF,OAAIzI,GACrEsI,EAASG,KACXA,EAAIA,EAAED,GACI,OAANC,IAAYA,OAAIzI,UAETA,IAANyI,EAAkBzG,MAAQyG","file":"js/chunk-774648ba.163e5664.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"content\"},[(!_vm.user)?_c('div',[_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.createHome}},[_vm._v(\"创建房间\")]),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":_vm.joinHome}},[_vm._v(\"加入房间\")])],1):_c('div',{staticStyle:{\"display\":\"flex\",\"position\":\"relative\"}},[_c('div',{staticClass:\"userLeft\"},[_c('img',{staticClass:\"headIcon\",attrs:{\"src\":_vm.user.id == 10 ? _vm.users[0].image : _vm.users[1].image,\"alt\":\"\"}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.id == 10 ? _vm.users[0].name : _vm.users[1].name))])]),_c('div',{staticClass:\"checkerboard\"},[_c('table',_vm._l((_vm.list),function(item1,index1){return _c('tr',_vm._l((item1),function(item2,index2){return _c('td',{on:{\"click\":function($event){return _vm.doPublish(index1,index2)}}},[_c('div',{staticClass:\"lattice\",class:{'black':item2==1,'red':item2==2}})])}),0)}),0)]),(_vm.users.length == 2)?_c('div',{staticClass:\"userRight\"},[_c('img',{staticClass:\"headIcon\",attrs:{\"src\":_vm.user.id == 10 ? _vm.users[1].image : _vm.users[0].image,\"alt\":\"\"}}),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.user.id == 10 ? _vm.users[1].name : _vm.users[0].name))])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n\r\n  <div class=\"content\">\r\n    <div v-if=\"!user\">\r\n      <el-button type=\"text\" @click=\"createHome\">创建房间</el-button>\r\n      <el-button type=\"text\" @click=\"joinHome\">加入房间</el-button>\r\n    </div>\r\n    <div v-else style=\"display: flex; position: relative;\">\r\n      <div class=\"userLeft\">\r\n        <img class=\"headIcon\" :src=\"user.id == 10 ? users[0].image : users[1].image\" alt=\"\">\r\n        <div class=\"name\">{{ user.id == 10 ? users[0].name : users[1].name }}</div>\r\n      </div>\r\n      <div class=\"checkerboard\">\r\n        <table>\r\n          <tr v-for=\"(item1,index1) in list\">\r\n            <td v-for=\"(item2,index2) in item1\" @click=\"doPublish(index1,index2)\">\r\n              <div class=\"lattice\" :class=\"{'black':item2==1,'red':item2==2}\"></div>\r\n            </td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n      <div class=\"userRight\" v-if=\"users.length == 2\">\r\n        <img class=\"headIcon\" :src=\"user.id == 10 ? users[1].image : users[0].image\" alt=\"\">\r\n        <div class=\"name\">{{ user.id == 10 ? users[1].name : users[0].name }}</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\n  import mqtt from 'mqtt'\r\n  export default {\r\n    data() {\r\n      return {\r\n        users: [],\r\n        user: null,\r\n        // 二维数组,生成棋盘\r\n        list: Array(10).fill(0).map(() => Array(10).fill(0)),\r\n        // 所有黑棋数组\r\n        blackArr: [],\r\n        // 所有红棋数组\r\n        redArr: [],\r\n        // 下棋顺序 ture表示当前为黑棋下\r\n        flag: true,\r\n        connection: {\r\n          host: 'broker.emqx.io',\r\n          port: 8083,\r\n          endpoint: '/mqtt',\r\n          clean: true, // 保留会话\r\n          connectTimeout: 4000, // 超时时间\r\n          reconnectPeriod: 4000, // 重连时间间隔\r\n          // 认证信息\r\n          clientId: 'mqttx_3937577c', // mqttx_945293c6\r\n        },\r\n        subscription: {\r\n          topic: 'topic/creator',\r\n          qos: 0,\r\n        },\r\n        publish: {\r\n          topic: 'topic/joiner',\r\n          qos: 0,\r\n          payload: {\r\n            msg: null,\r\n            // 消息类型 1:提示消息 2:棋子坐标\r\n            type: null\r\n          },\r\n        },\r\n        client: null,\r\n      }\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n    methods: {\r\n      // 创建房间\r\n      createHome() {\r\n        this.$message('房间创建成功');\r\n        this.user = {\r\n          id: 10,\r\n          name: '张三',\r\n          image: 'https://img0.baidu.com/it/u=2409125767,2106097442&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400',\r\n        }\r\n        this.users.push(this.user);\r\n        this.createConnection();\r\n        this.doSubscribe();\r\n      },\r\n      // 加入房间\r\n      joinHome() {\r\n        this.$prompt('请输入房间号', '提示', {\r\n          confirmButtonText: '确定',\r\n          cancelButtonText: '取消',\r\n        }).then(({\r\n          value\r\n        }) => {\r\n          if (value != '1') {\r\n            this.$message.error('房间不存在!');\r\n            return;\r\n          }\r\n          this.$message('加入房间成功');\r\n          this.user = {\r\n            id: 20,\r\n            name: '李四',\r\n            image: 'https://img1.baidu.com/it/u=513917707,3330365276&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400',\r\n          }\r\n          this.users.push({\r\n            id: 10,\r\n            name: '张三',\r\n            image: 'https://img0.baidu.com/it/u=2409125767,2106097442&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400',\r\n          })\r\n          this.users.push(this.user);\r\n          this.connection.clientId = 'mqttx_945293c6';\r\n          this.subscription.topic = 'topic/joiner';\r\n          this.createConnection();\r\n          this.doSubscribe();\r\n          // 发送消息\r\n          this.publish.payload.type = 1;\r\n          this.publish.payload.msg = '李四加入房间';\r\n          this.publish.topic = 'topic/creator',\r\n            this.doPublish();\r\n        })\r\n      },\r\n      // 创建连接\r\n      createConnection() {\r\n        const {\r\n          host,\r\n          port,\r\n          endpoint,\r\n          ...options\r\n        } = this.connection\r\n        const connectUrl = `ws://${host}:${port}${endpoint}`\r\n        try {\r\n          this.client = mqtt.connect(connectUrl, options)\r\n        } catch (error) {\r\n          console.log('mqtt.connect error', error)\r\n        }\r\n        this.client.on('connect', () => {})\r\n        this.client.on('error', error => {\r\n          console.log('Connection failed', error)\r\n        })\r\n        this.client.on('message', (topic, message) => {\r\n          let m = JSON.parse(message);\r\n          if (m.type == 1) {\r\n            this.users.push({\r\n              id: 20,\r\n              name: '李四',\r\n              image: 'https://img1.baidu.com/it/u=513917707,3330365276&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400',\r\n            });\r\n            this.$message(m.msg);\r\n          } else {\r\n            let arr = m.msg;\r\n            this.doClick(arr[0], arr[1]);\r\n          }\r\n        })\r\n      },\r\n      doSubscribe() {\r\n        const {\r\n          topic,\r\n          qos\r\n        } = this.subscription\r\n        this.client.subscribe(topic, qos, (error, res) => {\r\n          if (error) {\r\n            console.log('Subscribe to topics error', error)\r\n            return;\r\n          }\r\n          // console.log('Subscribe to topics res', res)\r\n        })\r\n      },\r\n      doUnSubscribe() {\r\n        const {\r\n          topic\r\n        } = this.subscription\r\n        this.client.unsubscribe(topic, error => {\r\n          if (error) {\r\n            console.log('Unsubscribe error', error)\r\n          }\r\n        })\r\n      },\r\n      doPublish(index1, index2) {\r\n        console.log(this.users);\r\n        if (this.users.length != 2) {\r\n          this.$message('请等待高手挑战!');\r\n          return;\r\n        }\r\n        if (index1) {\r\n          // 如果对方还未下棋,return\r\n          if (this.user.id == 10 && !this.flag) {\r\n            // false为红棋下\r\n            this.$message('请等待对方落子');\r\n            return;\r\n          }\r\n          if (this.user.id == 20 && this.flag) {\r\n            // true为黑棋下\r\n            this.$message('请等待对方落子');\r\n            return;\r\n          }\r\n          this.publish.payload.msg = [index1, index2];\r\n          this.publish.payload.type = 2;\r\n        }\r\n        let obj = {\r\n          msg: this.publish.payload.msg,\r\n          type: this.publish.payload.type,\r\n        }\r\n        const {\r\n          topic,\r\n          qos,\r\n          payload\r\n        } = this.publish\r\n        this.client.publish(topic, JSON.stringify(payload), {\r\n          qos,\r\n        }, error => {\r\n          if (this.publish.payload.type != 1) {\r\n            if (!error) {\r\n              this.doClick(index1, index2);\r\n            }\r\n          }\r\n        })\r\n      },\r\n      doClick(index1, index2) {\r\n        // 判断黑棋下还是白棋下\r\n        if (this.flag) {\r\n          // 判断当前位置是否可下子\r\n          if (this.list[index1][index2] == 0) {\r\n            // 改变二维数组对应数据\r\n            this.$set(this.list[index1], index2, 1);\r\n            this.flag = !this.flag;\r\n            this.blackArr.push([index1, index2]);\r\n          }\r\n        } else {\r\n          this.$set(this.list[index1], index2, 2)\r\n          this.flag = !this.flag;\r\n          this.redArr.push([index1, index2]);\r\n        }\r\n        this.xWin(index1, index2);\r\n        this.yWin(index1, index2);\r\n        this.x_yWin(index1, index2);\r\n        this.y_xWin(index1, index2);\r\n      },\r\n      // X轴获胜\r\n      xWin(index1, index2) {\r\n        let xAllArr = [];\r\n        //判断横轴胜负逻辑的X轴棋子数组\r\n        let xWinArr = [];\r\n        //判断下的是黑棋还是红棋\r\n        if (!this.flag) {\r\n          this.blackArr.map(item => {\r\n            if (item[0] == index1) {\r\n              xAllArr.push(item[1]);\r\n            }\r\n          })\r\n        } else {\r\n          this.redArr.map(item => {\r\n            if (item[0] == index1) {\r\n              xAllArr.push(item[1]);\r\n            }\r\n          })\r\n        }\r\n        // 从小到大排序\r\n        xAllArr.sort((a, b) => a - b);\r\n        for (let i = 1; i < xAllArr.length; i++) {\r\n          if (xAllArr[i] == (xAllArr[i - 1] + 1)) {\r\n            //如果相邻的两个棋子数量相差1，就将其添加至胜负逻辑数组\r\n            xWinArr.push(xAllArr[i])\r\n          } else {\r\n            //否则得清空\r\n            xWinArr = []\r\n          }\r\n        }\r\n        if (xWinArr.length == 4) {\r\n          if (!this.flag) {\r\n            setTimeout(() => {\r\n              alert('黑棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          } else {\r\n            setTimeout(() => {\r\n              alert('红棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          }\r\n        }\r\n      },\r\n      // y轴获胜\r\n      yWin(index1, index2) {\r\n        let yAllArr = [];\r\n        let yWinArr = [];\r\n        //判断下的是黑棋还是红棋\r\n        if (!this.flag) {\r\n          this.blackArr.map(item => {\r\n            if (item[1] == index2) {\r\n              yAllArr.push(item[0]);\r\n            }\r\n          })\r\n        } else {\r\n          this.redArr.map(item => {\r\n            if (item[1] == index2) {\r\n              yAllArr.push(item[0]);\r\n            }\r\n          })\r\n        }\r\n        // 从小到大排序\r\n        yAllArr.sort((a, b) => a - b);\r\n        for (let i = 1; i < yAllArr.length; i++) {\r\n          if (yAllArr[i] == (yAllArr[i - 1] + 1)) {\r\n            //如果相邻的两个棋子数量相差1，就将其添加至胜负逻辑数组\r\n            yWinArr.push(yAllArr[i])\r\n          } else {\r\n            //否则得清空\r\n            yWinArr = []\r\n          }\r\n        }\r\n        if (yWinArr.length == 4) {\r\n          if (!this.flag) {\r\n            setTimeout(() => {\r\n              alert('黑棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          } else {\r\n            setTimeout(() => {\r\n              alert('红棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          }\r\n        }\r\n      },\r\n      // 正斜获胜\r\n      x_yWin(index1, index2) {\r\n        let x_yAllArr = [];\r\n        let x_yWinArr = [];\r\n        //判断下的是黑棋还是红棋\r\n        if (!this.flag) {\r\n          this.blackArr.map(item => {\r\n            if (item[0] - index1 == item[1] - index2) {\r\n              x_yAllArr.push(item[0]);\r\n            }\r\n          })\r\n        } else {\r\n          this.redArr.map(item => {\r\n            if (item[0] - index1 == item[1] - index2) {\r\n              x_yAllArr.push(item[0]);\r\n            }\r\n          })\r\n        }\r\n        // 从小到大排序\r\n        x_yAllArr.sort((a, b) => a - b);\r\n        for (let i = 1; i < x_yAllArr.length; i++) {\r\n          if (x_yAllArr[i] == (x_yAllArr[i - 1] + 1)) {\r\n            //如果相邻的两个棋子数量相差1，就将其添加至胜负逻辑数组\r\n            x_yWinArr.push(x_yAllArr[i])\r\n          } else {\r\n            //否则得清空\r\n            x_yWinArr = []\r\n          }\r\n        }\r\n        if (x_yWinArr.length == 4) {\r\n          if (!this.flag) {\r\n            setTimeout(() => {\r\n              alert('黑棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          } else {\r\n            setTimeout(() => {\r\n              alert('红棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          }\r\n        }\r\n      },\r\n      // 反斜获胜\r\n      y_xWin(index1, index2) {\r\n        let y_xAllArr = [];\r\n        let y_xWinArr = [];\r\n        //判断下的是黑棋还是红棋\r\n        if (!this.flag) {\r\n          this.blackArr.map(item => {\r\n            if (0 - (item[0] - index1) == item[1] - index2) {\r\n              y_xAllArr.push(item[0]);\r\n            }\r\n          })\r\n        } else {\r\n          this.redArr.map(item => {\r\n            if (0 - (item[0] - index1) == item[1] - index2) {\r\n              y_xAllArr.push(item[0]);\r\n            }\r\n          })\r\n        }\r\n        // 从小到大排序\r\n        y_xAllArr.sort((a, b) => a - b);\r\n        for (let i = 1; i < y_xAllArr.length; i++) {\r\n          if (y_xAllArr[i] == (y_xAllArr[i - 1] + 1)) {\r\n            //如果相邻的两个棋子数量相差1，就将其添加至胜负逻辑数组\r\n            y_xWinArr.push(y_xAllArr[i])\r\n          } else {\r\n            //否则得清空\r\n            y_xWinArr = []\r\n          }\r\n        }\r\n        if (y_xWinArr.length == 4) {\r\n          if (!this.flag) {\r\n            setTimeout(() => {\r\n              alert('黑棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          } else {\r\n            setTimeout(() => {\r\n              alert('红棋赢!');\r\n              this.resetData();\r\n            }, 100)\r\n          }\r\n        }\r\n      },\r\n      // 重置棋盘\r\n      resetData() {\r\n        this.list = Array(10).fill(0).map(() => Array(10).fill(0));\r\n        this.redArr = [];\r\n        this.blackArr = [];\r\n        this.flag = !this.flag;\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .userLeft {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: end;\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .userRight {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    margin-left: 20px;\r\n  }\r\n\r\n  .headIcon {\r\n    width: 60px;\r\n    height: 60px;\r\n  }\r\n\r\n  .name {\r\n    padding-top: 10px;\r\n  }\r\n\r\n  table {\r\n    position: relative;\r\n    width: 500px;\r\n    height: 500px;\r\n    margin: 0 auto;\r\n    border: 5px solid black;\r\n    padding: 24px 12px;\r\n  }\r\n\r\n  td {\r\n    width: 35px;\r\n    height: 35px;\r\n    margin-right: 13px;\r\n    margin-bottom: 11px;\r\n    cursor: pointer;\r\n    background-color: azure;\r\n  }\r\n\r\n  .lattice {\r\n    margin-left: 6px;\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .black {\r\n    background-color: black;\r\n  }\r\n\r\n  .red {\r\n    background-color: red;\r\n  }\r\n\r\n  .content {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n  }\r\n\r\n  .checkerboard {\r\n    width: 500px;\r\n    height: 500px;\r\n    border: 1px solid #00000022;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    border-right: none;\r\n    border-bottom: none;\r\n    background-color: #eeeeee;\r\n  }\r\n\r\n  /* .checkerboard .lattice {\r\n    width: calc((100% - 10px) / 10);\r\n    height: calc((100% - 10px) / 10);\r\n    border-right: 1px solid #00000022;\r\n    border-bottom: 1px solid #00000022;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    cursor: pointer;\r\n  } */\r\n</style>\n","import mod from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./showdoc.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/@vue/cli-service/node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./showdoc.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./showdoc.vue?vue&type=template&id=1b7bcdb4&scoped=true\"\nimport script from \"./showdoc.vue?vue&type=script&lang=js\"\nexport * from \"./showdoc.vue?vue&type=script&lang=js\"\nimport style0 from \"./showdoc.vue?vue&type=style&index=0&id=1b7bcdb4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b7bcdb4\",\n  null\n  \n)\n\nexport default component.exports","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","'use strict';\nvar $export = require('./_export');\nvar $map = require('./_array-methods')(1);\n\n$export($export.P + $export.F * !require('./_strict-method')([].map, true), 'Array', {\n  // 22.1.3.15 / 15.4.4.19 Array.prototype.map(callbackfn [, thisArg])\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments[1]);\n  }\n});\n","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./showdoc.vue?vue&type=style&index=0&id=1b7bcdb4&prod&scoped=true&lang=css\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n"],"sourceRoot":""}